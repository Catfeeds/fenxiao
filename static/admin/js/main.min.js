$(function(){$("body").on("click",'[name="selectAll"]',function(){var a=$(this).is(":checked");$('[name="selectItem"]').each(function(b,f){var d=$(this),c=d.prop("disabled");
if(c){d.prop("checked",false);}else{d.prop("checked",a);}});});$("body").on("click",'[name="selectItem"]',function(){var b=$('[name="selectItem"]').length,a=$('[name="selectItem"]:checked').length;
if(b==a){$('[name="selectAll"]').prop("checked",true);}else{$('[name="selectAll"]').prop("checked",false);}});$("body").on("click",".J_VIEW_MORE_GOOD",function(){var a=$(this);
a.toggleClass("open");a.parents("tr").find(".good-more-info").slideToggle();});});(function(g){var a={Get:function(k){var j=document.cookie.match(new RegExp("(^| )"+k+"=([^;]*)(;|$)"));
if(j!=null){return unescape(j[2]);}return null;},Set:function(j,l,n){var k=n,m=new Date();m.setTime(m.getTime()+k*24*60*60*1000);document.cookie=j+"="+escape(l)+";expires="+m.toGMTString();
}};var f={Email:/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,Account:/^[a-zA-Z0-9_]{2,20}$/,Pwd:/^[a-zA-Z0-9_~!@#$%^&*()]{8,25}$/,Tel:/^(13|14|15|16|17|18|19)[0-9]{9}$/,IDCard:/^\d{17}[\d|X|x]|\d{15}$/,Number:/^\d+$/,Integer:/^[-\+]?\d+$/,IntegerZ:/^[1-9]\d*$/,IntegerF:/^-[1-9]\d*$/,Chinese:/^[\u0391-\uFFE5]+$/,Zipcode:/^\d{6}$/,Authcode:/^\d{6}$/,QQ:/^\d{4,12}$/,Price:/^(0|[1-9]\d*)(\.\d{1,2})?$/,Money:/^(0|[1-9]\d*)(\.\d{1,4})?$/,Letter:/^[A-Za-z]+$/,LetterU:/^[A-Z]+$/,LetterL:/^[a-z]+$/,Url:/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,Date:/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/,Domain:/^[a-zA-Z0-9]{4,}$/};
var d="csrf_cookie_name";function b(k){if(k==undefined){k={};}var j={csrf_token_name:a.Get(d),rdm:Math.random()};return $.extend(j,k);}function i(j){var k=new RegExp("(^|&)"+j+"=([^&]*)(&|$)"),l=window.location.search.substr(1).match(k);
if(l!=null){return unescape(l[2]);}return null;}function e(j){$(j).parent().find(".form-control").get(0).select();document.execCommand("Copy");new Msg({type:"success",msg:"复制成功",delay:1});
}function h(k,j){var l={runtimes:"html5,flash,html4",dragdrop:true,multi_selection:false,max_file_size:"100mb",chunk_size:"4mb",domain:__UPLOADURL__,flash_swf_url:__STATICURL__+"libs/plupload/2.3.1/Moxie.swf",get_new_uptoken:true,auto_start:true,filters:{mime_types:[{title:"Image files",extensions:"jpg,jpeg,png"}]},uptoken_func:function(){var n=new XMLHttpRequest();
n.open("GET",__BASEURL__+"qiniu_api/get_token?type="+k,false);n.setRequestHeader("If-Modified-Since","0");n.send();if(n.status===200){var m=JSON.parse(n.responseText);
return m.data.up_token;}else{return"";}},init:{FilesAdded:function(m,n){plupload.each(n,function(o){});},BeforeUpload:function(m,n){},UploadProgress:function(m,n){},FileUploaded:function(m,n,o){},Error:function(m,o,n){},UploadComplete:function(){},Key:function(m,o){var n="";
var p=o.name.split(".")[o.name.split(".").length-1];console.info(p);n=k+"/"+new Date().getTime()+"_"+Math.floor(1000+Math.random()*(9999-1000))+"."+p;return n;
}}};j=$.extend(true,{},l,j);uploader=Qiniu.uploader(j);return uploader;}function c(o,k,l,m){var n=null;m=m||60;if(!k){new Msg({type:"danger",msg:"手机号不能为空",delay:2});
return false;}else{if(!f.Tel.test(k)){new Msg({type:"danger",msg:"手机号格式不正确",delay:2});return false;}}function j(){if(m<=0){clearTimeout(n);o.prop("disabled",false).text("获取验证码");
return false;}o.prop("disabled",true).text(m+"s后重发");m--;}$.post(__BASEURL__+"mobile_api/send_code",b({mobile:k,type:l}),function(p){if(p.success){new Msg({type:"success",msg:"获取成功",delay:1});
j();n=setInterval(j,1000);}else{new Msg({type:"danger",msg:p.msg});o.prop("disabled",false).text("获取验证码");}},"json");}g.Cookie=a;g.PregRule=f;g.autoCsrf=b;
g.GetQueryString=i;g.copyUrl=e;g.uploadFile=h;g.getAuthCode=c;})(window);(function(a,c){function b(d){this.type=d.type||"info";this.msg=d.msg;this.closeBtn=d.closeBtn||false;
this.delay=d.delay||3;this.callback=d.callback;this.init();}b.prototype.init=function(){var g,m,i,f,k;f="m-message"+new Date().getTime();k=this.delay*1000+200;
switch(this.type){case"info":m='<div class="message-label message-info"><span class="iconfont icon-tips"></span></div>';break;case"success":m='<div class="message-label message-success"><span class="iconfont icon-ok"></span></div>';
break;case"warning":m='<div class="message-label message-warning"><span class="iconfont icon-gantan"></span></div>';break;case"danger":m='<div class="message-label message-danger"><span class="iconfont icon-close"></span></div>';
break;default:m="";}if(!this.closeBtn){i="";}else{i='<a class="btn-delete message-delete" href="javascript:;"></a>';}g='<div class="m-message" id="'+f+'">'+m+'<div class="message-box"><span>'+this.msg+"</span>"+i+"</div></div>";
c("body").append(g);var h=this;c("#"+f).find(".message-delete").on("click",function(){c("#"+f).removeClass("in");h.callback&&h.callback();});var l=setTimeout(function(){c("#"+f).addClass("in");
},200);var j=setTimeout(function(){c("#"+f).removeClass("in");h.callback&&h.callback();},k);var e=setTimeout(function(){c("#"+f).remove();clearTimeout(l);
clearTimeout(j);clearTimeout(e);},k*2);};a.Msg=b;}(window,jQuery));